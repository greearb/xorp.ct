#
# $XORP: xorp/pim/Jamfile,v 1.3 2007/04/20 07:17:45 pavlin Exp $
#

SubDir TOP pim ;
SubIncludeOnce TOP libxorp ;
SubIncludeOnce TOP libcomm ;
SubIncludeOnce TOP xrl interfaces ;
SubIncludeOnce TOP xrl targets ;
SubIncludeOnce TOP libxipc ;
SubIncludeOnce TOP libproto ;
SubIncludeOnce TOP libfeaclient ;
SubIncludeOnce TOP mrt ;
SubDir TOP pim ;

LINKLIBS_PIM_COMMON = 
	libpim
	libfeaclient
	libribxif
	libmld6igmpxif
	libmfeaxif
	libfeaifmgrmirrorxif
	libfeaifmgrreplicatorxif
	libclimanagerxif
	libfindereventnotifierxif
	libfeaifmgrmirrorbase
	libpimbase
	libmrt
	libproto
	libxipc
	libcomm
	libxorp
	;

Main xorp_pimsm4 : xorp_pimsm4.cc ;
Main xorp_pimsm6 : xorp_pimsm6.cc ;
LinkLibraries xorp_pimsm4 xorp_pimsm6 : 
	$(LINKLIBS_PIM_COMMON)
	;

Library libpim :
	pim_bsr.cc
	pim_config.cc
	pim_mfc.cc
	pim_mre.cc
	pim_mre_assert.cc
	pim_mre_data.cc
	pim_mre_join_prune.cc
	pim_mre_register.cc
	pim_mre_rpf.cc
	pim_mre_task.cc
	pim_mre_track_state.cc
	pim_mrib_table.cc
	pim_mrt.cc
	pim_mrt_mfc.cc
	pim_mrt_task.cc
	pim_nbr.cc
	pim_node.cc
	pim_node_cli.cc
	pim_proto_assert.cc
	pim_proto_bootstrap.cc
	pim_proto_cand_rp_adv.cc
	pim_proto_graft.cc
	pim_proto_graft_ack.cc
	pim_proto_hello.cc
	pim_proto_join_prune.cc
	pim_proto_join_prune_message.cc
	pim_proto_register.cc
	pim_proto_register_stop.cc
	pim_rp.cc
	pim_scope_zone_table.cc
	pim_vif.cc
	xrl_pim_node.cc
	;

if $(MAKE_CHECK) {

} # MAKE_CHECK

InstallBin $(PREFIX)/pim : xorp_pimsm4 xorp_pimsm6 ;
